<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>linux配置samba服务 - zzidun的博客</title>
        <link rel="stylesheet" href="../css/fira-mono.css" />
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="stylesheet" href="../css/syntax.css" />
        <link rel="shortcut icon" href="../images/zzidun-logo.png" type="image/x-icon" />
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../">zzidun的博客</a>
            </div>
            <nav>
                <a href="../">主页</a>
                <a href="../links.html">推荐阅读</a>
                <a href="../archive.html">归档</a>
            </nav>
        </header>

        <main role="main">
            <h1>linux配置samba服务</h1>
            <article>
    <section class="header">
        Posted on January 27, 2022
        
            by zzidun
        
    <p>
        
        Tags: <a title="All pages tagged '软件技巧'." href="../tags/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7.html" rel="tag">软件技巧</a>
        
    </p>
    </section>
    <section>
        <h1 id="安装samba">安装samba</h1>
<pre class="shell"><code>sudo apt install samba</code></pre>
<h1 id="添加samba用户">添加samba用户</h1>
<p>我反正是懒得创建新用户了, 直接把自己在用的用户设置成了samba用户.</p>
<p>直接输入<code>smbpasswd</code>命令, 即将当前用户设置为samba用户,, 并且设置samba密码.</p>
<p>你也可以使用<code>sudo smbpasswd -a &lt;用户名&gt;</code>来指定一个用户, 并且为其设置samba密码.</p>
<p>(只能指定已经存在的用户, 你可以先用<code>useradd</code>创建一个).</p>
<h1 id="最简配置文件">最简配置文件</h1>
<p>配置文件格式形如</p>
<pre><code>[段落名]
  内容
  ...

[段落名]
  内容
  ...
...</code></pre>
<h2 id="全局设置">全局设置</h2>
<p><code>[global]</code>段是全局设置.</p>
<p>你可以直接拷贝以下内容(是的我也看不懂)</p>
<pre><code>[global]
    dns proxy = No
    map to guest = Bad User
    netbios name = ARCH LINUX
    security = USER
    server role = standalone server</code></pre>
<h2 id="文件夹设置">文件夹设置</h2>
<p>每个<code>[共享项目名称]</code>描述了一个共享文件夹的设置.</p>
<p>也就是你每需要设置一个共享文件夹, 就在这里加一段描述.</p>
<p>例如</p>
<pre><code># 别人访问samba将会看到这个文件夹名&lt;home&gt;
[home]
    # 文件夹的路径
    path = /home/zzidun/
    # 是否只读
    read only = No
    # 具有写入权限的用户()
    write list = @zzidun</code></pre>
<h2 id="我的完整配置文件">我的完整配置文件</h2>
<pre class="shell"><code>[global]
    dns proxy = No
    map to guest = Bad User
    netbios name = ARCH LINUX
    security = USER
    server role = standalone server

[home]
    path = /home/zzidun/
    read only = No
    write list = @zzidun</code></pre>
<h1 id="启动服务">启动服务</h1>
<p>对于<code>archlinux</code>, 使用以下命令:</p>
<pre class="shell"><code>sudo systemctl enable samba
sudo systemctl enable smb.service
</code></pre>
<p>之后就可以在局域网内的各个设备通过<code>ip</code>访问这个文件夹.</p>
    </section>
</article>

        </main>

        <footer>
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </footer>
    </body>
</html>
